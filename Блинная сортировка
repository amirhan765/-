def binning_sort(arr):
    if len(arr) == 0:
        return arr

    # Находим минимальное и максимальное значение
    min_value = min(arr)
    max_value = max(arr)

    # Определяем количество "блинов" (карманов)
    # Можно выбрать, например, по количеству элементов или по диапазону
    # Тут возьмем количество блинов равное длине массива
    num_bins = len(arr)

    # Создаем список для "блинов" (карманов)
    bins = [[] for _ in range(num_bins)]

    # Распределяем элементы по блинам
    for num in arr:
        # Находим индекс блинна для текущего числа
        # Используем формулу:
        # index = (num - min_value) * (num_bins - 1) // (max_value - min_value)
        # чтобы распределить все по диапазону
        index = (num - min_value) * (num_bins - 1) // (max_value - min_value)
        bins[index].append(num)

    # Сортируем каждый блин и собираем итог
    sorted_arr = []
    for b in bins:
        sorted_arr.extend(sorted(b))  # Внутри блинов можно использовать встроенную сортировку

    return sorted_arr

# Пример использования:
array = [3.2, 1.5, 4.8, 2.2, 3.9, 0.5]
print(binning_sort(array))
